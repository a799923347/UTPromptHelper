<!-- Plugin Configuration File. Read more: https://plugins.jetbrains.com/docs/intellij/plugin-configuration-file.html -->
<idea-plugin>
  <!-- Unique identifier of the plugin. It should be FQN. It cannot be changed between the plugin versions. -->
  <id>com.ut.prompt.UTPromptHelper</id>

  <!-- Public plugin name should be written in Title Case.
       Guidelines: https://plugins.jetbrains.com/docs/marketplace/best-practices-for-listing.html#plugin-name -->
  <name>UTPromptHelper</name>

  <!-- A displayed Vendor name or Organization ID displayed on the Plugins Page. -->
  <vendor url="https://github.com/a799923347/UTPromptHelper">UTPromptHelper Team</vendor>

  <!-- Version of the plugin. It should be in the format "major.minor.patch" -->
  <version>2.4.0</version>

  <!-- Product and plugin compatibility requirements.
       Read more: https://plugins.jetbrains.com/docs/intellij/plugin-compatibility.html -->
  <idea-version since-build="242.0" until-build="252.*"/>

  <!-- Description of the plugin displayed on the Plugin Page and IDE Plugin Manager.
       Guidelines: https://plugins.jetbrains.com/docs/marketplace/best-practices-for-listing.html#plugin-description -->
  <description><![CDATA[
        <h3>UTPromptHelper - Smart Unit Test Prompt Generator</h3>
        
        <p>UTPromptHelper is a powerful IntelliJ IDEA plugin designed to automatically generate high-quality unit test prompts by analyzing Git code changes. It helps developers quickly create comprehensive unit tests for their code modifications.</p>
        
        <h4>Key Features</h4>
        <ul>
          <li><strong>Smart Code Change Detection</strong>: Automatically identifies code changes between Git branches</li>
          <li><strong>Editable Prompt Templates</strong>: Provides professional test generation prompt templates</li>
          <li><strong>File Selection</strong>: Supports selective test generation for specific files</li>
          <li><strong>Right-click Menu Support</strong>: Generate UT prompts with a simple right-click on files</li>
          <li><strong>Real-time Preview</strong>: Preview content before copying</li>
          <li><strong>One-click Copy</strong>: Quickly copy prompts to clipboard</li>
          <li><strong>Cursor Integration</strong>: Open projects directly in Cursor editor</li>
        </ul>
        
        <h4>Usage Methods</h4>
        <p><strong>Method 1: Tools Menu</strong> - Select Tools → Get UT Prompts to analyze entire project changes</p>
        <p><strong>Method 2: Right-click Menu</strong> - Right-click on files and select "Generate UT Prompts" for quick single-file analysis</p>
        
        <h4>Technical Features</h4>
        <ul>
          <li>Intelligent Git diff output parsing</li>
          <li>Accurate identification of important code changes with comments</li>
          <li>Multi-hunk file processing support</li>
          <li>Import statement and pure comment change filtering</li>
          <li>Cross-platform support (macOS, Windows, Linux)</li>
        </ul>
        
        <p><em>Make unit test generation simple and efficient!</em></p>
    ]]></description>

  <!-- Product and plugin compatibility requirements.
       Read more: https://plugins.jetbrains.com/docs/intellij/plugin-compatibility.html -->
  <depends>com.intellij.modules.platform</depends>

  <!-- Extension points defined by the plugin.
       Read more: https://plugins.jetbrains.com/docs/intellij/plugin-extension-points.html -->
  <extensions defaultExtensionNs="com.intellij">
    <toolWindow id="UTPrompt"
                anchor="right"
                icon="/META-INF/pluginIcon.svg"
                factoryClass="com.ut.prompt.utprompthelper.UTPromptToolWindowFactory"
                stripeTitle="UTPrompt"/>
  </extensions>

  <actions>
    <action id="GitCompareAction" class="com.ut.prompt.utprompthelper.GitCompareAction" text="获取UT提示词" description="比较当前分支与master改动并获取用于AI生成单元测试的提示词">
      <add-to-group group-id="ToolsMenu" anchor="first"/>
    </action>
    
    <action id="FileBasedPromptAction" class="com.ut.prompt.utprompthelper.FileBasedPromptAction" text="生成UT提示词" description="为当前文件生成单元测试提示词">
      <add-to-group group-id="EditorPopupMenu" anchor="first"/>
    </action>
  </actions>
</idea-plugin>